/*! myValidate - v2.3 - 2017-01-09
* https://github.com/jonasmello/myValidate
* Copyright (c) 2017 Jonas Mello; Licensed MIT */
!function(a,b,c){"use strict";a.fn.myValidate=function(b){var c,d="object"==typeof b&&b.instance||!1,e="object"==typeof b&&b.removeData||!1;return d?this.each(function(){c=new a.myValidate(this,b),e&&a.removeData(this,"myValidate"),a.data(this,"myValidate")||a.data(this,"myValidate",c)}):c=this.each(function(){e&&a.removeData(this,"myValidate"),a.data(this,"myValidate")||a.data(this,"myValidate",new a.myValidate(this,b))}),c},a.myValidate=function(b,c){this.version="2.3",this.element=b,this.callbackSubmit=!0,this.options=a.extend({},a.myValidate.options,c),this.$form=a(this.element),this.reset=a.proxy(function(){this.options.notdisabled?this.$rules=this.$form.find("[data-myrules]").not(":disabled"):this.$rules=this.$form.find("[data-myrules]")},this),this.reset(),this.element&&this.init()},a.myValidate.options={debug:!1,error:"Some required fields are empty.",errorattach:"It is necessary to attach a file.",errormail:"Please enter a valid email address.",errorcpf:"CPF Inválido",errorcnpj:"CNPJ Inválido",erroequal:"Campos {0} e {1} não são iguais",required:"required",notification:".notification",errorcolor:"#F00",notdisabled:!0,beforeValidate:function(){},callError:function(a,b,c){this.debug&&console.log(a,b,c),b.find(".notification").slideDown()},callSuccess:function(a,b,c){this.debug&&console.log(a,b,c)}},a.myValidate.prototype.validarCPF=function(a){var b,c,d,e,f=a.replace(/\D/g,""),g=/^(\d{1})\1{10}$/;if(11!==f.length)return!1;if(g.test(f))return!1;for(c=0,b=0;9>b;b+=1)c+=parseInt(f.charAt(b),10)*(10-b);if(d=c%11,e=d>1?11-d:0,parseInt(f.charAt(9),10)!==e)return!1;for(c=0,b=0;10>b;b+=1)c+=parseInt(f.charAt(b),10)*(11-b);return d=c%11,e=d>1?11-d:0,parseInt(f.charAt(10),10)!==e?!1:!0},a.myValidate.prototype.validarCNPJ=function(a){var b,c,d,e,f,g=a.replace(/\D/g,""),h=/^(\d{1})\1{13}$/;if(14!==g.length)return!1;if(h.test(g))return!1;for(c=0,b=0;12>b;b+=1)d=(3>=b?5:13)-b,c+=parseInt(g.charAt(b),10)*d;if(c%=11,e=0===c||1===c?0:11-c,parseInt(e,10)===parseInt(g.charAt(12),10)){for(c=0,b=0;13>b;b+=1)d=(4>=b?6:14)-b,c+=parseInt(g.charAt(b),10)*d;if(c%=11,f=0===c||1===c?0:11-c,f===parseInt(g.charAt(13),10))return!0}return!1},a.myValidate.prototype.init=function(){this.elementsOnClick(),this.elSubmit(this.element)},a.myValidate.prototype.elementsOnClick=function(){var b=this,c="form"+(b.element.id.length?"#"+b.element.id:b.element.name.length?'[name="'+b.element.name+'"]':b.element.className.length?"."+b.element.className:"");a(c+' [onclick*="submit()"]').each(function(b,d){a(d).attr("onclick","javascript:$('"+c+"').myValidate().submit();")})},a.myValidate.prototype.elSubmit=function(b){var c=this;a(b).on("submit",{self:c},c.validate)},a.myValidate.prototype.validate=function(b){var c=b?b.data.self:this;c.callbackSubmit=!0,c.$rules.length>0&&(c.getErrorMessage(b),c.options.beforeValidate(c.$form),c.$rules.each(function(){var b=a(this);(b.not(":disabled")||!b.attr("disabled"))&&(b.removeClass("error"),b.parent().removeClass("error"),b.next(".chzn-container").removeClass("error"),b.next(".select2-container").find(".select2-selection").removeClass("error"),c.isRequired(b),c.validateEmail(b),c.validateCpf(b),c.validateCnpj(b),c.validateDoc(b),c.validateSelect(b),c.validateCheckbox(b),c.validateEqual(b))})),c.callbackSubmit?c.options.callSuccess(b,c.$form,c.callbackSubmit):(b.preventDefault(),b.stopPropagation(),c.options.callError(b,c.$form,c.callbackSubmit))},a.myValidate.prototype.notification=function(b){a(this.options.notification).html(b)},a.myValidate.prototype.getErrorMessage=function(a){var b=a?a.data.self:this;b.options.error=b.$form.data("error")||b.options.error,b.options.errormail=b.$form.data("errormail")||b.options.errormail,b.options.errorattach=b.$form.data("errorattach")||b.options.errorattach,b.options.errorcpf=b.$form.data("errorcpf")||b.options.errorcpf,b.options.errorcnpj=b.$form.data("errorcnpj")||b.options.errorcnpj,b.options.erroequal=b.$form.data("erroequal")||b.options.erroequal},a.myValidate.prototype.isRequired=function(a){a.filter('[data-myrules*="required"]').length&&this.notVal(a)},a.myValidate.prototype.notVal=function(a){(""===a.val()||null===a.val())&&(this.callbackSubmit=!1,this.notification(this.options.error),a.addClass("error"),this.notFile(a))},a.myValidate.prototype.notFile=function(a){a.is('input[type="file"]')&&(this.notification(this.options.errorattach),this.callbackSubmit=!1,a.parent().addClass("error").find(".label").addClass("error"),this.notification(this.options.errorattach))},a.myValidate.prototype.validateEmail=function(a){if(a.filter('[data-myrules*="email"]').length){var b=/^[\d\w]+([_.-]?[\d\w]+)*@([\d\w_-]{2,}(\.){1})+?[\d\w]{2,4}$/;b.test(a.val())||(this.callbackSubmit=!1,a.addClass("error"),this.notification(this.options.errormail))}},a.myValidate.prototype.validateCpf=function(a){a.filter('[data-myrules*="cpf"]').length&&(this.validarCPF(a.val())||(this.callbackSubmit=!1,a.addClass("error"),this.notification(this.options.errorcpf)))},a.myValidate.prototype.validateCnpj=function(a){a.filter('[data-myrules*="cnpj"]').length&&(this.validarCNPJ(a.val())||(this.callbackSubmit=!1,a.addClass("error"),this.notification(this.options.errorcnpj)))},a.myValidate.prototype.validateDoc=function(a){if(a.filter('[data-myrules*="doc"]').length){var b=a.val().replace(/\D/g,""),c=b.length;c>11?this.validarCNPJ(a.val())||(this.callbackSubmit=!1,a.addClass("error"),this.notification(this.options.errorcnpj)):this.validarCPF(a.val())||(this.callbackSubmit=!1,a.addClass("error"),this.notification(this.options.errorcpf))}},a.myValidate.prototype.validateSelect=function(a){!a.is("select")||""!==a.val()&&null!==a.val()||(this.callbackSubmit=!1,this.notification(this.options.error),a.addClass("error"),a.next(".chzn-container").addClass("error"),a.next(".select2-container").find(".select2-selection").addClass("error"))},a.myValidate.prototype.validateCheckbox=function(a){a.is('input[type="checkbox"]')&&!a.is("input:checked")&&(a.parent().addClass("error"),this.callbackSubmit=!1,this.notification(this.options.errormail))},a.myValidate.prototype.validateEqual=function(a){if(a.filter('[data-myrules*="equal"]').length){var b,c=a.data("myrules").search("equal"),d=a.data("myrules").slice(c),e=a.attr("title")||a.attr("name");d=d.replace("equal[",""),d=d.replace("]",""),d=this.$form.find('[name="'+d+'"]'),b=d.attr("title")||d.attr("name"),""!==d.val()&&d.val()!==a.val()&&(this.callbackSubmit=!1,this.notification(this.options.erroequal.format(e,b)),a.addClass("error"),d.addClass("error"))}},String.prototype.format||(String.prototype.format=function(){var a=arguments;return this.replace(/{(\d+)}/g,function(b,c){return"undefined"!=typeof a[c]?a[c]:b})})}(jQuery,window);